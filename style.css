:root {
    --radius: 32px;
    --spring: cubic-bezier(0.4, 0, 0.2, 1.2);
    --glass: rgba(255, 255, 255, 0.1);
    --border: rgba(255, 255, 255, 0.15);
    --accent: #007AFF;
    --text: #fff;
    --bg: #000;
}

/* Temi */
body.theme-light-default { --bg: #f2f2f7; --text: #000; --glass: rgba(0,0,0,0.05); --border: rgba(0,0,0,0.1); }
body.theme-dark-sage { --bg: #052c22; --accent: #34c759; }
body.theme-light-sage { --bg: #f2f9f7; --text: #000; --accent: #34c759; --glass: rgba(0,0,0,0.05); --border: rgba(0,0,0,0.1); }
body.theme-dark-rose { --bg: #2c050a; --accent: #ff2d55; }
body.theme-light-rose { --bg: #fff2f4; --text: #000; --accent: #ff2d55; --glass: rgba(0,0,0,0.05); --border: rgba(0,0,0,0.1); }

body {
    margin: 0; height: 100vh; background: var(--bg); color: var(--text);
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
    display: flex; flex-direction: column; overflow: hidden; transition: 0.5s;
}

/* BACKGROUND LIQUIDO */
.liquid-bg {
    position: fixed; inset: 0; z-index: -1;
    background: radial-gradient(circle at 10% 10%, var(--accent) 0%, transparent 40%),
                radial-gradient(circle at 90% 90%, var(--accent) 0%, transparent 40%);
    opacity: 0.2; filter: blur(100px); animation: pulse 10s infinite alternate;
}
@keyframes pulse { from { transform: scale(1); } to { transform: scale(1.2); } }

/* COERENZA GLASS */
.glass-card, .glass-btn, .glass-input {
    background: var(--glass); backdrop-filter: blur(40px); -webkit-backdrop-filter: blur(40px);
    border: 1px solid var(--border); border-radius: var(--radius);
}

/* OROLOGIO */
.center-content { flex: 1; display: flex; justify-content: center; align-items: center; }
.clock-wrap { display: flex; align-items: center; gap: 20px; }
.digit { font-size: 7.5rem; font-weight: 800; padding: 40px; min-width: 140px; text-align: center; }
.sep { font-size: 4rem; opacity: 0.3; }

@media (max-width: 700px) {
    .clock-wrap { flex-direction: column; gap: 15px; }
    .sep { display: none; }
    .digit { font-size: 5rem; padding: 25px; min-width: 160px; border-radius: 25px; }
}

/* MODALI */
.overlay {
    position: fixed; inset: 0; background: rgba(0,0,0,0.4); backdrop-filter: blur(15px);
    display: flex; justify-content: center; align-items: center; z-index: 1000;
    opacity: 0; pointer-events: none; transition: 0.4s;
}
.overlay.active { opacity: 1; pointer-events: auto; }
.modal-panel { width: 90%; max-width: 380px; padding: 30px; transform: scale(0.9); transition: 0.4s var(--spring); }
.overlay.active .modal-panel { transform: scale(1); }
.hidden { display: none !important; }

/* DETTAGLI MUSICA */
#detail-art { width: 100%; border-radius: 20px; margin-bottom: 20px; box-shadow: 0 15px 30px rgba(0,0,0,0.3); }
.stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 20px 0; }
.stat span { font-size: 0.7rem; opacity: 0.5; text-transform: uppercase; }

/* THEME SELECTOR */
.theme-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 10px; }
.theme-btn { 
    height: 45px; border-radius: 12px; border: 2px solid transparent; cursor: pointer; 
    transition: 0.2s; background: var(--accent);
}
.theme-btn:hover { border-color: #fff; transform: scale(1.05); }

/* BOTTONI */
.icon-btn { position: fixed; top: 30px; right: 30px; width: 50px; height: 50px; cursor: pointer; }
.solid-btn { 
    width: 100%; padding: 18px; border-radius: 20px; border: none; 
    background: var(--text); color: var(--bg); font-weight: 700; cursor: pointer; margin: 10px 0;
}

/* MUSIC PILL */
.music-trigger { position: fixed; bottom: 40px; left: 50%; transform: translateX(-50%); cursor: pointer; }
.music-pill { display: flex; align-items: center; gap: 15px; padding: 10px 20px; }
#track-art { width: 44px; height: 44px; border-radius: 10px; }
.meta .name { display: block; font-weight: 700; font-size: 0.9rem; }
.meta .artist { font-size: 0.8rem; opacity: 0.6; }

/* POTATO MODE */
body.potato-mode .liquid-bg { display: none; }
body.potato-mode * { backdrop-filter: none !important; }
